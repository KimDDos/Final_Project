<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.four.www.user.repository.MemberDAO">

	<select id="selectUserCount" resultType="String">
		select count(user_serial_no) from mbr_profile where user_serial_no like 'U%'
	</select>

	<insert id="register">
		insert into mbr_profile
		values(
			user_serial_no,
			user_email,
			user_pwd,
			user_name,
			user_nick_name
		)
	</insert>
	
	<select id="selectUserInfo">
		select user_email from mbr_profile where user_email = #{authEmail}
	</select>

	<select id="selectMemberInfo" resultType="com.four.www.user.domain.MemberVO">
		select * from mbr_profile where user_email = #{username}
	</select>
	
	<select id="selectAuths" resultType="com.four.www.user.oauth.authVO"> 
		select * from mbr_auth where user_serial_no = #{userSerialNo}
	</select>

</mapper>